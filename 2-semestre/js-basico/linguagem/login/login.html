<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="UTF-8" />
        <meta content="width=device-width, initial-scale=1.0" name="viewport" />
        <title>Title</title>
        <link href="css/style.css" rel="stylesheet" />
        <script>
            function validadeLogin() {
                const user = document.getElementById("user").value
                const pwd = document.getElementById("pwd").value

                if (!user) alert("Preencha o campo usuário!")
                else if (!pwd) alert("Preencha o campo senha!")
                else processLogin(user, pwd)
            }

            function processLogin(user, pwd) {
                return fetch("json/users.json")
                    .then((response) => response.json())
                    .then((data) => checkUserLogin(data, user, pwd))
            }

            function checkUserLogin(content, user, pwd) {
                if (content.find((usuario) => usuario.user === user && usuario.pwd === pwd)) alert("Bem-vindo!")
                else alert("Acesso negado!")
            }
        </script>
    </head>

    <body>
        <h1>Jogo da Velha</h1>
        <form>
            <input id="user" placeholder="Usuário" type="text" />
            <input id="pwd" placeholder="Senha" type="password" />
            <input onclick="validadeLogin()" type="button" value="Entrar" />
        </form>

        <p>Não é cadastrado? <a href="cadastro.html">Cadastre-se aqui</a></p>
    </body>
</html>
